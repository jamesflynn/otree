{% extends "global/Page.html" %}
{% load staticfiles otree %}


{% block title %}
    {{player.role}} - Chat Room
{% endblock %}

{% block styles %}

    <!-- define a style -->
    <style type="text/css">

    pre.inline {
       display: inline;
    }
  table {
    empty-cells: show;
    border: 0px;
    }

table td,
table th {
    padding: 5px;
    min-width: 2em;
    min-height: 2em;
    border: 0px;
    vertical-align: top;
}

.column-left{ float: left; width: 33%; }
.column-right{ float: right; width: 33%; }
.column-center{ display: inline-block; width: 34%; }


    </style>

{% endblock %}

{% block content %}

<p>You have been assigned to be the Manager, to negotiate with 3 Workers. Your budget is $5 per Worker. The Workers do not know your budget. You will decide how to split the budget between you by negotiating. If you reach an agreement, your payoff is {{ budget }} minus the wage you agree to pay the worker. If you do not reach an agreement with a Worker, you will not receive any of your budget for that Worker, and that Worker will not receive additional payments.</p>
<p>For example, if you agree to a wage of $4 with one worker and a wage of $3 with another, you would receive $1 from the first agreement ($5 - $4), and $2 from the second ($5 - $3).</p>
<p>So the maximum you should pay any worker is {{ budget }}.</p>
<p>If you do not reach an agreement with one Worker, it will not affect your bonus payment from the other Workers. If any Workers don't show up you can still click through to finish the HIT.</p>

{% if split_chats %}
<p>You and the Workers are all here now, you can chat with them separately.</p>

<br>

<div id="wrapper">
    <div class="column-left" style="overflow: hidden;">

        <strong>Worker 1</strong>
        {% chat nickname="Manager" channel=channel1 %}<br>
        <strong>Worker 1</strong> bid <span style="background-color: ghostwhite; display: inline; font-family:courier">{{bid2}}</span>. <br>
        {% formfield player.man_emp1_price label="What is the confirmed wage you will pay Worker 1?" %}
        {% formfield player.man_emp1_nodeal label="Check here if <strong>no deal</strong> reached with Worker 1." %}

    </div>
    <div  class="column-center"  style="overflow: hidden;">

        <strong>Worker 2</strong>
        {% chat nickname="Manager" channel=channel2 %}<br>
        <strong>Worker 2</strong> bid <span style="background-color: ghostwhite; display: inline; font-family:courier">{{bid3}}</span>. <br>
        {% formfield player.man_emp2_price label="What is the confirmed wage you will pay Worker 2?" %}
        {% formfield player.man_emp2_nodeal label="Check here if <strong>no deal</strong> reached with Worker 2." %}

    </div>
    <div  class="column-right"  style="overflow: hidden;">

        <strong>Worker 3</strong>
        {% chat nickname="Manager" channel=channel3 %}<br>
        <strong>Worker 3</strong> bid <span style="background-color: ghostwhite; display: inline; font-family:courier">{{bid4}}</span>. <br>
        {% formfield player.man_emp3_price label="What is the confirmed wage you will pay Worker 3?" %}
        {% formfield player.man_emp3_nodeal label="Check here if <strong>no deal</strong> reached with Worker 3." %}
    </div>
</div>
<div style="clear: both;"></div>
<br>

{% else %}
  
<h3>Chat Room:</h3>
  {% chat nickname="Manager" channel=channel1 %}
<br>

        <strong>Worker 1</strong> bid <span style="background-color: ghostwhite; display: inline; font-family:courier">{{bid2}}</span>. <br>
        {% formfield player.man_emp1_price label="What is the confirmed wage you will pay Worker 1?" %}{% formfield player.man_emp1_nodeal label="Check here if <strong>no deal</strong> reached with Worker 1." %}
        <hr>

        <strong>Worker 2</strong> bid <span style="background-color: ghostwhite; display: inline; font-family:courier">{{bid3}}</span>. <br>
        {% formfield player.man_emp2_price label="What is the confirmed wage you will pay Worker 2?" %}
        {% formfield player.man_emp2_nodeal label="Check here if <strong>no deal</strong> reached with Worker 2." %}
        <hr>

        <strong>Worker 3</strong> bid <span style="background-color: ghostwhite; display: inline; font-family:courier">{{bid4}}</span>. <br>
        {% formfield player.man_emp3_price label="What is the confirmed wage you will pay Worker 3?" %}
        {% formfield player.man_emp3_nodeal label="Check here if <strong>no deal</strong> reached with Worker 3." %}
        <hr>


{% endif %}
<br>
<p>
  Please make sure you confirm the amounts in the boxes, and in the chat. If these numbers are not in agreement between you and the worker, neither will be paid.
</p>        
    <p><small>You will receive any additional payment owed via an MTurk Bonus</small></p>
    <div>
        <button class="btn btn-warning btn-large">Done</button>
    </div>
    <br>


{% endblock %}
